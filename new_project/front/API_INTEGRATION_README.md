# API集成说明文档

## 概述

前端已成功集成后端API，支持完整的用户认证流程和API测试功能。

## 已实现的功能

### 1. API配置 (`src/api/`)

- **config.js**: 基础API配置，包含请求/响应拦截器
- **auth.js**: 认证相关API服务
- **user.js**: 用户管理API服务  
- **test.js**: 测试API服务
- **index.js**: API服务统一入口

### 2. 认证功能

- ✅ 用户登录 (支持测试账号快速填充)
- ✅ 用户注册 (包含用户名/邮箱重复检查)
- ✅ Token自动管理
- ✅ 用户信息获取
- ✅ 自动登录状态恢复
- ✅ 路由守卫

### 3. API测试页面

访问 `/api-test` 可以测试所有API连接:
- 健康检查
- 系统信息
- Echo测试  
- 用户信息获取

## 测试账号

根据API文档，系统提供以下测试账号：

1. **管理员账号**
   - 用户名: `admin`
   - 密码: `123456`

2. **测试用户**
   - 用户名: `testuser`
   - 密码: `123456`

## 如何测试

### 1. 启动后端服务

确保后端服务在 `http://localhost:8080` 运行

### 2. 启动前端服务

```bash
npm run dev
```

### 3. 测试流程

1. 访问 `http://localhost:3000`
2. 自动跳转到登录页面
3. 使用测试账号登录或注册新账号
4. 登录成功后进入Dashboard
5. 点击"API测试"卡片测试API连接

## 技术特性

### 请求拦截器
- 自动添加JWT Token到请求头
- 请求日志记录

### 响应拦截器  
- 统一错误处理
- 401自动跳转登录页面
- 用户友好的错误提示

### 状态管理
- Token持久化存储
- 用户状态自动恢复
- 登录状态检查

### 路由守卫
- 自动认证检查
- 重定向到目标页面
- 已登录用户避免重复登录

## 故障排除

### 连接问题
- 检查后端服务是否启动
- 验证API地址配置
- 查看浏览器控制台错误

### 认证问题  
- 检查Token是否有效
- 验证用户信息是否正确
- 尝试重新登录 